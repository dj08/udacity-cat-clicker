<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Cat Clicker Premium!</title>
    </head>
    <body>
      <div id="cat-list" style="height: 70%; max-height: 500px;">
        <!-- Javascript will populate this... -->
      </div>
    </body>
    <script>
     // Add the heading
     var pageTitle=document.createElement("h1");
     var titleText=document.createTextNode(document.title);
     pageTitle.appendChild(titleText);
     document.body.insertBefore(pageTitle, document.getElementById('cat-list'));

     // Add the cats
     var cats = [{
       pic: "https://cdn.pixabay.com/photo/2015/02/09/15/55/cat-629821_960_720.jpg",
       clickCount: 0,
       name: "Kiki The Toy",
       get alt () {
         return "The cutesy " + this.name + " shall appear here...";
       }
     }, {
       pic: "https://dianakhayyat.files.wordpress.com/2011/05/animals_cats_small_cat_005241_.jpg",
       clickCount: 0,
       name: "Kuku The Hypnotizer",
       get alt () {
         return "The mighty " + this.name + " shall appear here...";
       }
     }, {
       pic: "http://images2.fanpop.com/image/photos/12900000/Cute-kittens-12929201-1600-1200.jpg",
       clickCount: 0,
       name: "Monu The Jubilant",
       get alt () {
         return "The eager " + this.name + " shall appear here...";
       }
     }, {
       pic: "http://2.bp.blogspot.com/-FhcPduq6qnQ/TkDcxjKKwEI/AAAAAAAABuo/jKRf89KmzgA/s1600/cute+cats.jpg",
       clickCount: 0,
       name: "Pokus The Twins",
       get alt () {
         return "The milky " + this.name + " shall appear here...";
       }
     }, {
       pic: "http://images2.fanpop.com/image/photos/9900000/so-cute-3-cute-kittens-9989494-1098-960.jpg",
       clickCount: 0,
       name: "Kattie The Small",
       get alt () {
         return "The cute " + this.name + " shall appear here...";
       }
     }];

     var insertCatsHere=document.getElementById('cat-list');
     var catListContainer=document.createElement('ul');
     insertCatsHere.appendChild(catListContainer);

    //  function displayCat(catObj) {
    //    insertCatsHere.
    //  }
     cats.forEach(function (thisCat, index) {
       var catElement=document.createElement('li');
       catElement.setAttribute("id", 'cat-element-'+index);
       var catElementText=
         document.createTextNode((thisCat.name + ": " +
           thisCat.alt).replace(/shall appear here.../i, ''));
       catElement.appendChild(catElementText);
       catListContainer.appendChild(catElement);

       document.getElementById('cat-element-'+index).addEventListener('click',
         (function(indexCopy) {
            return function() {
            }
         })
     )
     })

     cats.forEach(function (thisCat, index) {
       var catFig=document.createElement("figure");
       catFig.setAttribute("id", "catfig-"+index);
       insertCatsHere.appendChild(catFig);

       var cat=document.createElement("img");
       cat.setAttribute("src", thisCat.pic);
       cat.setAttribute("id", "cat-"+index);
       cat.setAttribute("height", "500px");
       cat.setAttribute("alt", thisCat.alt);
       catFig.appendChild(cat);

       var catCaption=document.createElement("figcaption");
       var catCaptionText=document.createTextNode(thisCat.name);
       catCaption.appendChild(catCaptionText);
       catFig.appendChild(catCaption);

       var countGadgetParagraph=document.createElement("p");
       countGadgetParagraph.setAttribute("id", 'count-gadget-'+index);
       var countInitText=document.createTextNode("Please click the cat!");
       countGadgetParagraph.appendChild(countInitText);
       insertCatsHere.appendChild(countGadgetParagraph);

      //  insertCatsHere.innerHTML += "<p id=count-gadget-alt-" + index + "></p>";
       document.getElementById('cat-' + index).addEventListener('click',
         (function(indexCopy) {
            return function() {
              document.getElementById("count-gadget-" + indexCopy).textContent =
                "You clicked " + cats[indexCopy].name + " " + ++cats[indexCopy].clickCount
                + " time(s)";
              // document.getElementById("count-gadget-alt-" + indexCopy).textContent =
              //   "You clicked " + cats[indexCopy].name + " " + ++cats[indexCopy].clickCount
              //   + " time(s)";
            };})(index), false);
       }
     );
    </script>
</html>
